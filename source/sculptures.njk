<!DOCTYPE html>
<html>
  <head>
    <title>Sculptures | Sentro de Museo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" href="/images/favicon.jpg" type="image/x-icon" />
    <link rel="stylesheet" href="/assets/css/strata/strata.css" />
    <link rel="stylesheet" href="/assets/css/strata/menu.css" />

    <style>
      body {
        background-color: #d4af37;
      }

      /* Header */

      #header {
        background-color: #012350ff;
        background-image: none;
        transition: height 0.3s ease;
        color: white;
      }

      #logo img {
        border-radius: 0;
        max-width: 100%;
        height: auto;
        margin: 0 auto;
      }

      #logo.avatar.image {
        width: 100%;
        text-align: center;
      }

      /* Main */

      #main h2 {
        font-weight: 500;
        padding-bottom: 0.5em;
        text-shadow: 0px 1px 5px black, 0px -1px 5px black;
      }

      .sculptureButton {
        background-color: #012350ff;
        color: white;
        border: none;
        transition: background-color 0.25s ease-in-out;
      }

      .sculptureButton:hover {
        background-color: #d4af37;
        color: white;
        transition: background-color 0.25s ease-in-out;
      }

      .row-item {
        box-shadow: 0 4px 10px -2px black;
      }

      /* Footer */

      #footer {
        background-color: #012350ff;
        background-image: none;
        padding: 0rem;
      }

      #footer .icons a {
        font-size: 1.5rem;
      }

      #footer .copyright {
        font-size: 0.7em;
        gap: 1rem;
      }

      /* Media Queries */

      @media (max-width: 320px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 1em;
          width: 96%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (max-width: 420px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 97%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (max-width: 600px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 98%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (min-width: 601px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 98.5%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (min-width: 768px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 98.5%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (min-width: 981px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 14.5em;
          margin-top: 3em;
        }

        #main {
          padding: 2em;
          width: 69%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.8em;
          flex-direction: column;
        }
      }

      @media (min-width: 1281px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 20em;
          margin-top: 2em;
        }

        #main {
          padding: 2em 4em 2em 0em;
          width: 100%;
        }

        #footer {
          padding: 0rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.4rem;
        }

        #footer .copyright {
          font-size: 0.9em;
          flex-direction: column;
        }
      }

      @media (min-width: 1367px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 20em;
          margin-top: 2em;
        }

        #main {
          padding: 2em 4em 2em 0em;
          width: 100%;
        }

        #footer {
          padding: 0rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.4rem;
        }

        #footer .copyright {
          font-size: 0.9em;
          flex-direction: column;
        }
      }

      @media (min-width: 1367px) {
        #footer .copyright {
          font-size: 0.8em;
          flex-direction: column;
        }
      }
    </style>
  </head>

  <body class="is-preload">
    <!-- Header  -->
    <header id="header">
      <div class="inner">
        <a id="logo" class="image avatar py-3" href="/"
          ><img src="/images/SentroDeMuseoMain.jpg" alt=""
        /></a>
      </div>
    </header>

    <!-- Menu -->
    <nav id="menu">
      <ul class="links">
        <li><a href="/">Home</a></li>
        <li><a href="/landing">Sentro De Museo</a></li>
        <li><a href="/paintings">Paintings</a></li>
        <li><a href="/sculptures">Sculptures</a></li>
        <li><a href="/researches">Researches</a></li>
      </ul>
    </nav>

    <!-- Main -->
    <div id="main">
      <section id="two">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <h2 class="text-white mb-0">Sculptures</h2>
          <div class="button-container">
            <a href="javascript:history.back()" class="backButton btn btn-primary align-self-center text-white"><i class="fa-solid fa-arrow-left"></i></a>
            <a href="#menu" class="menuButton btn btn-primary align-self-center text-white"><i class="fa-solid fa-bars"></i></a>
          </div>
        </div>
        <div class="row">
          <style>
            .menuButton, .backButton {
              background-color: #012350ff;
              border: none;
              color: white;
              font-size: 1em;
              font-family: 'Font Awesome 6 Free';
              transform: translateX(0.5em);
            }

            .menuButton:hover, .backButton:hover {
              background-color: #012350ff;
              transition: color 0.3s ease;
            }

            .button-container {
              display: flex;
              align-items: center;
              transform: translateX(0.3em);
            }

            .backButton, .menuButton {
              margin: 0 5px;
            }

            /* Removes the default blue color when holding the buttons */
            .menuButton, .backButton, .sculptureButton {
              background-color: #012350ff;
              border: none;
              color: white;
            }

            .menuButton:hover, .backButton:hover {
              background-color: #012350ff;
              transition: color 0.3s ease;
            }

            .menuButton:focus, .backButton:focus,  
            .menuButton:active, .backButton:active {
              background-color: #012350ff !important;
              outline: none !important;
              box-shadow: none !important;
            }

            .sculptureButton:active {
              background-color: #d4af37 !important;
              outline: none !important;
              box-shadow: none !important;
            }
            
            .membersDescription-container {
              height: 0;
              overflow: hidden;
              transition: height 0.7s ease, padding 0.7s ease;
              padding-top: 0;
              padding-bottom: 0;
            }

            .membersDescription-container.show {
              height: auto;
              padding-top: 10px;
              padding-bottom: 10px;
            }
            .image.fit {
              position: relative;
              width: 100%;
              padding-top: 100%; /* 1x1 aspect ratio */
              overflow: hidden;
            }

            .image.fit img {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              object-fit: cover;
              opacity: 0;
              transform: scale(0.8);
              animation: fadeInScale 0.9s ease forwards;
              transition: transform 0.3s ease, opacity 0.3s ease;
            }

            .image.fit:hover img {
              transform: scale(1.05);
              opacity: 0.9;
            }

            /* Keyframe Animation */
            @keyframes fadeInScale {
              0% {
                opacity: 0;
                transform: scale(0.9);
              }
              100% {
                opacity: 1;
                transform: scale(1);
              }
            }
          </style>

          {%- for post in collections.sculptures -%}
          <article class="col-6 col-12-xsmall work-item">
            <div
              class="row-item bg-white py-3 px-3 rounded clickable-card d-flex flex-column justify-content-between"
              id="{{ post.data.identifier }}"
              style="min-height: 400px; overflow: hidden;"
            >
              <a
                href="{{ post.data.sculpture_image }}"
                class="image fit thumb"
                id="paintingLink"
              >
                <img
                  src="{{ post.data.sculpture_image }}"
                  alt="{{ post.data.sculpture_image_alt_text }}"
                  id="paintingImage"
                />
              </a>

              <h3
                class="text-dark border-dark sculptureTitle"
                id="paintingTitle"
                style="
                  font-size: 1.4em;
                  margin: 0;
                  padding: 0;
                  font-weight: bold;
                  text-align: center;
                  overflow: hidden;
                  text-overflow: ellipsis;
                  white-space: nowrap;
                "
              >
                {{ post.data.sculpture_name }}
              </h3>

              <h6 class="text-dark" id="paintingSection" style="font-size: 1em; text-align: center;">
                {{ post.data.section }}
              </h6>

              <div class="membersDescription-container" style="flex-grow: 1;">
                <p
                  class="text-dark pb-3"
                  id="paintingDescription"
                  style="font-size: 0.85em; text-align: justify; overflow: hidden; text-overflow: ellipsis;"
                >
                  {{ post.data.sculpture_description | safe }}
                </p>
                <p
                  class="text-dark mb-1"
                  style="font-size: 0.85em; font-weight: bold"
                >
                  Members:
                </p>
                <div style="font-size: 0.8em; color: black; margin-left: 0.5em;">
                  {{ post.data.members | safe }}
                </div>
              </div>

              <div class="d-flex justify-content-center my-3">
                <button class="sculptureButton btn btn-primary px-5">
                  See more
                </button>
              </div>
            </div>
          </article>

          {%- endfor -%}

          <!-- script -->
          <script>
            document.querySelectorAll(".clickable-card").forEach((card) => {
              card.addEventListener("click", function (e) {
                if (
                  e.target.tagName.toLowerCase() === "a" ||
                  e.target.classList.contains("sculptureButton")
                )
                  return;

                const link = card.querySelector("a");
                if (link) {
                  link.click();
                }
              });
            });

            document.querySelectorAll(".sculptureButton").forEach((button) => {
              button.addEventListener("click", function (event) {
                const card = this.closest(".clickable-card");
                const membersContainer = card.querySelector(".membersDescription-container");
                const title = card.querySelector(".sculptureTitle");
                const isOpen = membersContainer.classList.contains("show");

                // Close all open containers & reset titles
                document.querySelectorAll(".membersDescription-container.show").forEach((container) => {
                  if (container !== membersContainer) {
                    container.classList.remove("show");
                    container.closest(".clickable-card")
                      .querySelector(".sculptureButton").textContent = "See more";
                    // Reset title style on other cards
                    const otherTitle = container.closest(".clickable-card").querySelector(".sculptureTitle");
                    if (otherTitle) {
                      otherTitle.style.whiteSpace = "nowrap";
                      otherTitle.style.overflow = "hidden";
                      otherTitle.style.textOverflow = "ellipsis";
                    }
                  }
                });

                // Toggle current container
                if (isOpen) {
                  membersContainer.classList.remove("show");
                  this.textContent = "See more";
                  // Truncate the title
                  title.style.whiteSpace = "nowrap";
                  title.style.overflow = "hidden";
                  title.style.textOverflow = "ellipsis";
                } else {
                  membersContainer.classList.add("show");
                  this.textContent = "See less";
                  // Show full title
                  title.style.whiteSpace = "normal";
                  title.style.overflow = "visible";
                  title.style.textOverflow = "unset";
                }

                event.stopPropagation();
              });
            });
          </script>

        </div>
      </section>
    </div>

    {%- for post in collections.social -%}
      <footer id="footer">
        <div class="inner">
          <ul class="icons">
            <li>
              <a
                href="{{ post.data.facebook_link }}"
                class="icon brands alt fa-facebook-f"
                ><span class="label">Facebook</span></a
              >
            </li>
            <li>
              <a
                href="{{ post.data.github_link }}"
                class="icon brands alt fa-github"
                ><span class="label">GitHub</span></a
              >
            </li>
          </ul>
          <ul class="copyright">
            <li>&copy; Sentro de Museo</li>
            <li>
              Design: Portal Team EXPO '25
            </li>
          </ul>
        </div>
      </footer>
    {%- endfor -%}

    <!-- Scripts -->
    <script src="/assets/js/strata/jquery.min.js"></script>
    <script src="/assets/js/strata/jquery.poptrox.min.js"></script>
    <script src="/assets/js/strata/browser.min.js"></script>
    <script src="/assets/js/strata/breakpoints.min.js"></script>
    <script src="/assets/js/strata/util.js"></script>
    <script src="/assets/js/strata/strata.js"></script>
    <script src="/assets/js/jquery.scrolly.min.js"></script>
    <script src="/assets/js/jquery.scrollex.min.js"></script>
    <script src="/assets/js/main.js"></script>
  </body>
</html>
