<!DOCTYPE html>

<html>
  <head>
    <title>Researches | Sentro de Museo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="icon" href="/images/favicon.jpg" />
    <link rel="stylesheet" href="/assets/css/strata/strata.css" />
    <link rel="stylesheet" href="/assets/css/strata/menu.css" />

    <style>
      a:hover {
        border-bottom-color: transparent;
        color: #012350ff !important;
        text-decoration: none;
      }

      body {
        background-color: #d4af37;
      }

      /* Header */

      #header {
        background-color: #012350ff;
        background-image: none;
        transition: height 0.3s ease;
        color: white;
      }

      #logo img {
        border-radius: 0;
        max-width: 100%;
        height: auto;
        margin: 0 auto;
      }

      #logo.avatar.image {
        width: 100%;
        text-align: center;
      }

      /* Main */

      #main h2 {
        font-weight: 500;
        padding-bottom: 0.5em;
      }

      #main h2,
      .strandButton,
      a.text-white {
        text-shadow: 1px 1px 10px black;
      }

      article {
        margin-left: 0.75em;
      }

      /* Footer */

      #footer {
        background-color: #012350ff;
        background-image: none;
        padding: 0rem;
      }

      #footer .icons a {
        font-size: 1.5rem;
      }

      #footer .copyright {
        font-size: 0.7em;
        gap: 1rem;
      }

      /* Media Queries */

      @media (max-width: 320px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 0 0 0 0;
          width: 96%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (max-width: 420px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 97%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (max-width: 600px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 1em;
          width: 98%;
        }

        #footer {
          padding: 1rem;
          margin-top: 3em;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }

        .popup-title {
          font-size: 1.2em;
        }
      }

      @media (min-width: 601px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 1em;
          width: 98.5%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }

        .popup-title {
          font-size: 1.2em;
        }
      }

      @media (min-width: 768px) {
        #header {
          padding: 0em;
        }

        #logo.image.avatar {
          width: 15em;
        }

        #main {
          padding: 2em;
          width: 98.5%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.75em;
          flex-direction: column;
        }
      }

      @media (min-width: 981px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 14.5em;
          margin-top: 3em;
        }

        #main {
          padding: 2em;
          width: 69%;
        }

        #footer {
          padding: 1rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.2rem;
        }

        #footer .copyright {
          font-size: 0.8em;
          flex-direction: column;
        }
      }

      @media (min-width: 1281px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 20em;
          margin-top: 2em;
        }

        #main {
          padding: 2em 4em 2em 0em;
          width: 100%;
        }

        #footer {
          padding: 0rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.4rem;
        }

        #footer .copyright {
          font-size: 0.9em;
          flex-direction: column;
        }
      }

      @media (min-width: 1367px) {
        #header {
          padding: 2em;
        }

        #logo.image.avatar {
          width: 20em;
          margin-top: 2em;
        }

        #main {
          padding: 2em 4em 2em 0em;
          width: 100%;
        }

        #footer {
          padding: 0rem;
        }

        #footer .icons {
          background-image: none;
        }

        #footer .icons a {
          font-size: 1.4rem;
        }

        #footer .copyright {
          font-size: 0.9em;
          flex-direction: column;
        }
      }

      @media (min-width: 1367px) {
        #footer .copyright {
          font-size: 0.8em;
          flex-direction: column;
        }
      }
      
      a.menu-link:hover {
        border-bottom-color: transparent;
        color: #D4AF37 !important;
        text-decoration: none;
      }
     
    </style>
  </head>

  <body class="is-preload">
    <!-- Header  -->
    <header id="header">
      <div class="inner">
        <a id="logo" class="image avatar py-3" href="/"
          ><img
            src="/images/SentroDeMuseoMain.jpg"
            alt=""
            style="border-radius: 0"
        /></a>
      </div>
    </header>

    <!-- Menu -->
    <nav id="menu">
      <ul class="links">
        <li><a href="/" class="menu-link">Home</a></li>
        <li><a href="/landing"  class="menu-link">Sentro De Museo</a></li>
        <li><a href="/paintings"  class="menu-link">Paintings</a></li>
        <li><a href="/sculptures"  class="menu-link">Sculptures</a></li>
        <li><a href="/researches"  class="menu-link">Researches</a></li>
      </ul>
    </nav>

    <!-- Main -->
    <div id="main">
      <style>
        .titles-container {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.7s ease, padding 0.7s ease;
          padding-top: 0;
          padding-bottom: 0;
        }

        .titles-container.show {
          max-height: 1000px;
          padding-top: 10px;
          padding-bottom: 10px;
        }

        .strandDivider,
        .strandButton {
          color: white;
        }

        .strandDivider:hover,
        .strandButton:hover {
          color: #012350ff;
          transition: color 0.2s ease-in-out;
        }

        .strandDivider {
          opacity: 0;
          transform: translateX(-20%);
          animation: slideIn 0.7s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
          animation-delay: 0.2s;
          margin-left: 0.3em;
        }

        .researchTitles {
          margin-left: 0.75em;
        }

        @keyframes slideIn {
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      
      </style>

      <section id="two">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <h2 class="text-white mb-0">Researches</h2>
          <div class="button-container">
            <a href="javascript:history.back()" class="backButton btn btn-primary align-self-center text-white"><i class="fa-solid fa-arrow-left"></i></a>
            <a href="#menu" class="menuButton btn btn-primary align-self-center text-white"><i class="fa-solid fa-bars"></i></a>
          </div>
        </div>

        <style>
          .menuButton, .backButton {
            background-color: #012350ff;
            border: none;
            color: white;
            font-size: 1em;
            font-family: 'Font Awesome 6 Free';
            transform: translateX(0.5em);
          }

          .menuButton:hover .fa-solid.fa-bars, .backButton:hover .fa-solid.fa-arrow-left {
            color: #D4AF37;
            transition: color 0.3s ease;
          }

          .menuButton:hover, .backButton:hover {
            background-color: #012350ff;
            transition: color 0.3s ease;
          }

          .button-container {
            display: flex;
            align-items: center;
          }

          .backButton, .menuButton {
            margin: 0 5px;
          }

          /* Removes the default blue color when holding the buttons */
            .menuButton, .backButton {
              background-color: #012350ff;
              border: none;
              color: white;
            }

            .menuButton:hover, .backButton:hover {
              background-color: #012350ff;
              transition: color 0.3s ease;
            }

            .menuButton:focus, .backButton:focus,  
            .menuButton:active, .backButton:active {
              background-color: #012350ff !important;
              outline: none !important;
              box-shadow: none !important;
            }

          .strandButton .fas.fa-caret-down {
            float: right;
            transition: transform 0.3s ease-in-out
          }

          .strandButton.open .fas.fa-caret-down {
            transform: rotate(180deg);
          }

          .fa-solid.fa-file-lines {
            margin-right: 12px;
          }

          .fa-solid.fa-folder-closed {
            margin-right: 12px;
          }

          .fa-solid.fa-folder-open {
            margin-right: 12px;
          }
        </style>

        <!-- Strand Dividers -->

        <div class="strandDivider my-4">
          <button
            type="button"
            class="strandButton border-0 bg-transparent w-100 text-start"
          >
            <i class="fa-solid fa-folder-closed"></i>
            Accountancy, Business and Management
            <i class="fas fa-caret-down"></i>
          </button>
          <div class="titles-container">
            <div class="border-top w-100"></div>
            <div class="my-4">
              {%- for post in collections.abm -%}
              <article>
                <a
                  href="#"
                  class="text-white sidebar-top-posts-widget__link"
                  data-title="{{ post.data.research_title | safe }}"
                  data-abstract="{{ post.data.research_abstract  | safe}}"
                  data-members='{{ post.data.members | dump | safe }}'
                  ><i class="fa-solid fa-file-lines"></i> {{ post.data.research_title | safe }}</a
                >
              </article>
              <br />
              {%- endfor -%}
            </div>
          </div>
          <div class="border-bottom mb-3 w-90"></div>
        </div>

        <div class="strandDivider my-4">
          <button
            type="button"
            class="strandButton border-0 bg-transparent w-100 text-start"
          >
            <i class="fa-solid fa-folder-closed"></i>
            Culinary Arts
            <i class="fas fa-caret-down"></i>
          </button>
          <div class="titles-container">
            <div class="border-bottom mb-3 w-90"></div>
            <div class="my-4">
              {%- for post in collections.cart -%}
              <article>
                <a
                  href="#"
                  class="text-white sidebar-top-posts-widget__link"
                  data-title="{{ post.data.research_title | safe }}"
                  data-abstract="{{ post.data.research_abstract  | safe}}"
                  data-members='{{ post.data.members | dump | safe }}'
                  ><i class="fa-solid fa-file-lines"></i> {{ post.data.research_title | safe }}</a
                >
              </article>
              <br />
              {%- endfor -%}
            </div>
          </div>
          <div class="border-bottom mb-3 w-90"></div>
        </div>

        <div class="strandDivider my-4">
          <button
            type="button"
            class="strandButton border-0 bg-transparent w-100 text-start"
          >
            <i class="fa-solid fa-folder-closed"></i>
            Humanities and Social Sciences
            <i class="fas fa-caret-down"></i>
          </button>
          <div class="titles-container">
            <div class="border-bottom mb-3 w-90"></div>
            <div class="my-4">
              {%- for post in collections.humss -%}
              <article>
                <a
                  href="#"
                  class="text-white sidebar-top-posts-widget__link"
                  data-title="{{ post.data.research_title | safe }}"
                  data-abstract="{{ post.data.research_abstract | safe }}"
                  data-members='{{ post.data.members | dump | safe }}'
                  ><i class="fa-solid fa-file-lines"></i> {{ post.data.research_title | safe }}</a
                >
              </article>
              <br />
              {%- endfor -%}
            </div>
          </div>
          <div class="border-bottom mb-3 w-90"></div>
        </div>

        <div class="strandDivider my-4">
          <button
            type="button"
            class="strandButton border-0 bg-transparent w-100 text-start"
          >
            <i class="fa-solid fa-folder-closed"></i>
            IT in Mobile App and Web Development
            <i class="fas fa-caret-down"></i>
          </button>
          <div class="titles-container">
            <div class="border-bottom mb-3 w-90"></div>
            <div class="my-4">
              {%- for post in collections.ict -%}
              <article>
                <a
                  href="#"
                  class="text-white sidebar-top-posts-widget__link"
                  data-title="{{ post.data.research_title | safe }}"
                  data-abstract="{{ post.data.research_abstract  | safe}}"
                  data-members='{{ post.data.members | dump | safe }}'
                  ><i class="fa-solid fa-file-lines"></i> {{ post.data.research_title | safe }}</a
                >
              </article>
              <br />
              {%- endfor -%}
            </div>
          </div>
          <div class="border-bottom mb-3 w-90"></div>
        </div>
        <div class="strandDivider my-4">
          <button
            type="button"
            class="strandButton border-0 bg-transparent w-100 text-start"
          >
            <i class="fa-solid fa-folder-closed"></i>
            Tourism Operations
            <i class="fas fa-caret-down"></i>
          </button>
          <div class="titles-container">
            <div class="border-bottom mb-3 w-90"></div>
            <div class="my-4">
              {%- for post in collections.toper -%}
              <article>
                <a
                  href="#"
                  class="text-white sidebar-top-posts-widget__link"
                  data-title="{{ post.data.research_title | safe }}"
                  data-abstract='{{ post.data.research_abstract  | safe}}'
                  data-members='{{ post.data.members | dump | safe }}'
                  ><i class="fa-solid fa-file-lines"></i> {{ post.data.research_title | safe }}</a
                >
              </article>
              <br />
              {%- endfor -%}
            </div>
          </div>
          <div class="border-bottom mb-3 w-90"></div>
        </div>
      </section>

      <!-- Dialog -->
      <dialog
        id="popupDialog"
        class="popup-dialog rounded col-12 col-md-10 col-lg-6 col-sm-12 col-xs-12 mx-auto"
      >
        <div class="popup-content">
          <div class="text-end">
            <button class="close-btn border-0 bg-transparent">&times;</button>
          </div>
          <h3 class="text-dark popup-title"></h3>
          <h5 style="font-weight: bold; color: black;">Abstract</h5>
          <p class="popup-abstract" style="text-align: justify"></p>
          <h5 style="font-weight: bold; color: black;">Authors</h5>
          <p class="popup-members" style="text-align: justify"></p>
        </div>
      </dialog>

      <style>
				.close-btn {
					transform: translateX(0.6em) translateY(-0.3em) scale(1.5);
				}

        h3.popup-title {
          font-weight: 700;
        }

				.popup-dialog {
					opacity: 0;
					transform: scale(0.8);
					transition: opacity 0.3s ease, transform 0.3s ease;
					border: none;
					box-shadow: 0 0 10px black;
					padding: 1em 1.5em 1em 1.5em;
				}

				.popup-dialog.showing {
					opacity: 1;
					transform: scale(1);
				}

				.popup-dialog.closing {
					opacity: 0;
					transform: scale(0.8);
				}

				.popup-dialog .popup-title {
					text-align: justify;
				}
				
				.popup-dialog .popup-abstract {
					font-size: 0.9em;
					text-align: justify;
				}

        .popup-dialog .popup-members {
					font-size: 0.9em;
					text-align: justify;
          margin-left: 0.2em;
				}

				.popup-dialog::backdrop {
					background-color: rgba(0, 0, 0, 0);
					transition: background-color 0.3s ease-in-out;
				}

				.popup-dialog.open::backdrop {
					background-color: rgba(0, 0, 0, 0.5);
				}

        .no-scroll {
          overflow: hidden;
        }
			</style>

     <script>
        // Toggle Button for Showing Titles
        document.querySelectorAll(".strandDivider").forEach((divider) => {
          const button = divider.querySelector(".strandButton");
          const container = divider.querySelector(".titles-container");
          const folderIcon = button.querySelector("i.fa-solid");

          button.addEventListener("click", function () {
            // Close any open dividers first
            document
              .querySelectorAll(".titles-container.show")
              .forEach((openContainer) => {
                if (openContainer !== container) {
                  openContainer.classList.remove("show");
                  const button = openContainer.parentNode.querySelector(".strandButton");
                  button.classList.remove("open");
                  const folderIcon = button.querySelector("i.fa-solid");
                  folderIcon.classList.remove("fa-folder-open");
                  folderIcon.classList.add("fa-folder-closed");
                }
              });

            // Toggle the clicked container's visibility
            container.classList.toggle("show");
            button.classList.toggle("open");

            // Toggle the folder icon
            if (button.classList.contains("open")) {
              folderIcon.classList.remove("fa-folder-closed");
              folderIcon.classList.add("fa-folder-open");
            } else {
              folderIcon.classList.remove("fa-folder-open");
              folderIcon.classList.add("fa-folder-closed");
            }
          });
        });

        // Popup Dialog
        const links = document.querySelectorAll(
          ".sidebar-top-posts-widget__link"
        );
        const popupDialog = document.getElementById("popupDialog");
        const popupTitle = popupDialog.querySelector(".popup-title");
        const popupAbstract = popupDialog.querySelector(".popup-abstract");
        const popupMembers = popupDialog.querySelector(".popup-members");
        const closeBtn = popupDialog.querySelector(".close-btn");

        // Open Dialog with Animation
        function openDialog() {
          popupDialog.classList.remove("closing");
          popupDialog.classList.add("open");
          popupDialog.showModal();
          popupDialog.classList.add("showing");
          document.body.classList.add("no-scroll");
        }

        // Close Dialog with Animation
        function closeDialog() {
          popupDialog.classList.remove("showing");
          document.body.classList.remove("no-scroll");
          popupDialog.classList.remove("open");
          popupDialog.classList.add("closing");

          // Wait for the transition to complete before closing
          setTimeout(() => {
            popupDialog.close();
          }, 300);
        }

        // Attach Event Listeners for Links
        links.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();

            const title = this.getAttribute("data-title");
            const abstract = this.getAttribute("data-abstract");
            let members = this.getAttribute("data-members") || "";
            members = members.replace(/^"|"$/g, '');

            // Convert "-" separated data to a list
            members = members.split("-").map(item => item.trim());

            // Convert members array to a list with <br>
            const membersHTML = members.join("<br>");

            // Update dialog content
            popupTitle.innerHTML = title;
            popupAbstract.innerHTML = abstract;
            popupMembers.innerHTML = membersHTML;

            // Open dialog with transition
            openDialog();
          });
        });


        // Close Dialog when the close button is clicked
        closeBtn.addEventListener("click", closeDialog);

        // Close Dialog by Clicking Outside
        popupDialog.addEventListener("click", function (e) {
          if (e.target === popupDialog) {
            closeDialog();
          }
        });
      </script>
    </div>

    {%- for post in collections.social -%}
      <footer id="footer">
        <div class="inner">
          <ul class="icons">
            <li>
              <a
                href="{{ post.data.facebook_link }}"
                class="icon brands alt fa-facebook-f"
                ><span class="label">Facebook</span></a
              >
            </li>
            <li>
              <a
                href="{{ post.data.github_link }}"
                class="icon brands alt fa-github"
                ><span class="label">GitHub</span></a
              >
            </li>
          </ul>
          <ul class="copyright">
            <li>&copy; Sentro de Museo</li>
            <li>
              Design: Portal Team EXPO '25
            </li>
          </ul>
        </div>
      </footer>
    {%- endfor -%}

    <!-- Scripts -->
    <script src="/assets/js/strata/jquery.min.js"></script>
    <script src="/assets/js/strata/jquery.poptrox.min.js"></script>
    <script src="/assets/js/strata/browser.min.js"></script>
    <script src="/assets/js/strata/breakpoints.min.js"></script>
    <script src="/assets/js/strata/util.js"></script>
    <script src="/assets/js/strata/strata.js"></script>
    <script src="/assets/js/jquery.scrolly.min.js"></script>
    <script src="/assets/js/jquery.scrollex.min.js"></script>
    <script src="/assets/js/main.js"></script>
  </body>
</html>
